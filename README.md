ูพุฑูฺู ูฺฉุฑูุณุฑูุณ To-Do: ูุฏู ุงูู ฺฉ ุฌูฺฏู ุฏููููพุฑ
ุงู ูพุฑูฺู ฺฉ ููุดู ุฑุงู ุณุงุฏู ู ฺฉุงุฑุจุฑุฏ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ุฌูฺฏู ุงุณุช ฺฉู ูโุฎูุงููุฏ ุงููู ูุฏู ุฑุง ุจุฑุง ุณุงุฎุช ุงูพูฺฉุดู ุจุง ูุนูุงุฑ ูฺฉุฑูุณุฑูุณ ุจุฑุฏุงุฑูุฏ.

ูุง ฺฉ ุงูพูฺฉุดู ุณุงุฏู To-Do ุฑุง ุจู ฺูุฏ ุณุฑูุณ ูุณุชูู ุชูุณู ฺฉุฑุฏูโุงู ฺฉู ูุฑ ฺฉุฏุงู ูุธูู ูุดุฎุต ุฏุงุฑูุฏ ู ุจุง ุงุจุฒุงุฑูุง ูุฏุฑู ุจุง ฺฉุฏฺฏุฑ ุตุญุจุช ูโฺฉููุฏ.

๐๏ธ ูุนูุงุฑ ฺฉู
ุณุณุชู ูุง ุงุฒ ฺูุฏ ูุทุนู ุงุตู ุชุดฺฉู ุดุฏู ฺฉู ูุฑ ฺฉุฏุงู ุฏุฑ ฺฉ ฺฉุงูุชูุฑ ุฏุงฺฉุฑ ูุฌุฒุง ุงุฌุฑุง ูโุดููุฏ:

graph TD
    subgraph Browser
        F[Frontend - React]
    end

    subgraph Backend
        G[API Gateway - FastAPI]
        U[User Service - Django]
        T[Todo Service - Django]
    end

    subgraph Tools
        K[Kafka]
        E[ELK Stack]
    end

    F -- Request --> G
    G -- Routes to --> U & T
    U -- Event --> K
    T -- Listens to --> K
    G & U & T -- Logs --> E

ุฌุฑุงู ฺฉุงุฑ ุจู ุฒุจุงู ุณุงุฏู:

ฺฉุงุฑุจุฑ ุงุฒ ุทุฑู ุฑุงุจุท ฺฉุงุฑุจุฑ (React) ฺฉ ุฏุฑุฎูุงุณุช ุงุฑุณุงู ูโฺฉูุฏ.

ุฏุฑุฎูุงุณุช ุจู API Gateway ูโุฑุณุฏ. ุงู ุฏุฑูุงุฒูุ ูฺฏูุจุงู ู ุฑุงูููุง ุงุตู ุณุณุชู ูุงุณุช.

Gateway ุชุตูู ูโฺฏุฑุฏ ฺฉู ุฏุฑุฎูุงุณุช ูุฑุจูุท ุจู ฺฉุฏุงู ุณุฑูุณ ุงุณุช (ูุซูุงู ุฏุฑุฎูุงุณุช ูุงฺฏู ุจู User Service ู ุฏุฑุฎูุงุณุช ุงูุฒูุฏู ุชุณฺฉ ุจู Todo Service ูโุฑูุฏ).

ุงฺฏุฑ ุณุฑูุณโูุง ูุงุฒ ุจู ุตุญุจุช ุบุฑูุณุชูู ุจุง ูู ุฏุงุดุชู ุจุงุดูุฏ (ูุซูุงู ููุช ฺฉ ฺฉุงุฑุจุฑ ุญุฐู ูโุดูุฏ)ุ ุงุฒ ฺฉุงูฺฉุง (Kafka) ุจู ุนููุงู ฺฉ ูพุงูโุฑุณุงู ุงุณุชูุงุฏู ูโฺฉููุฏ.

ุชูุงู ุงุชูุงูุงุช ู ูุงฺฏโูุง ุฏุฑ ELK Stack ุจู ุตูุฑุช ูุชูุฑฺฉุฒ ุฐุฎุฑู ูโุดููุฏ ุชุง ุจุชูุงูู ุณุณุชู ุฑุง ุฑุตุฏ ฺฉูู.

๐๏ธ ุชฺฉููููฺโูุง
ุจฺฉโุงูุฏ: Django, FastAPI

ูุฑุงูุชโุงูุฏ: React

ุฏุชุงุจุณ: PostgreSQL

ุฒุฑุณุงุฎุช: Docker, Docker Compose, Kafka, ELK Stack

ุงุญุฑุงุฒ ููุช: JWT

๐ ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ
ุจุฑุง ุงุฌุฑุง ูพุฑูฺูุ ููุท ุจู Docker ู Docker Compose ูุงุฒ ุฏุงุฑุฏ.

ฑ. ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
```
git clone Ali-Fallahi/todo-microservices-django
```
ฒ. ุณุงุฎุช ูุงูโูุง .env (ูููโุชุฑู ุจุฎุด!)
ุจุฑุง ูุฑ ุณุฑูุณ ุจฺฉโุงูุฏุ ฺฉ ูุงู .env ุจุฑุง ูฺฏูุฏุงุฑ ุงุทูุงุนุงุช ุญุณุงุณ ูุงุฒ ุฏุงุฑู.

ฑ. ุจุฑุง User Service: ฺฉ ูุงู ุฏุฑ ูุณุฑ backend/user-service/.env ุจุณุงุฒุฏ:
```
SECRET_KEY=your-strong-secret-key-for-user-service
JWT_SIGNING_KEY=a-very-secret-key-that-must-be-the-same
POSTGRES_DB=user_db
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_HOST=user_db_postgres
```
ฒ. ุจุฑุง Todo Service: ฺฉ ูุงู ุฏุฑ ูุณุฑ backend/todo-service/.env ุจุณุงุฒุฏ:
```
SECRET_KEY=your-strong-secret-key-for-todo-service
POSTGRES_DB=todo_db
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_HOST=todo_db_postgres
```
ณ. ุจุฑุง API Gateway: ฺฉ ูุงู ุฏุฑ ูุณุฑ backend/api-gateway/.env ุจุณุงุฒุฏ:
```
JWT_SIGNING_KEY=a-very-secret-key-that-must-be-the-same
```
โ๏ธ ูฺฉุชู ุจุณุงุฑ ููู
ููุฏุงุฑ JWT_SIGNING_KEY ุจุงุฏ ุฏุฑ user-service ู api-gateway ุฏููุง ฺฉุณุงู ุจุงุดุฏ. ฺุฑุงุ ฺูู user-service ุจุง ุงู ฺฉูุฏ ุชูฺฉู ุฑุง ุงูุถุง (Sign) ูโฺฉูุฏ ู api-gateway ุจุง ููุงู ฺฉูุฏุ ุงูุถุง ุฑุง ุจุฑุฑุณ (Verify) ูโฺฉูุฏ ุชุง ุงุฒ ูุนุชุจุฑ ุจูุฏู ุชูฺฉู ูุทูุฆู ุดูุฏ.

ณ. ุงุฌุฑุง ุจุง Docker Compose
ุฏุฑ ุฑุดู ุงุตู ูพุฑูฺูุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
```
docker-compose up --build
```
ูพุณ ุงุฒ ฺูุฏ ุฏูููุ ุชูุงู ุณุฑูุณโูุง ุขูุงุฏู ุจู ฺฉุงุฑ ูุณุชูุฏ:

ุงูพูฺฉุดู: http://localhost:3000
```
API Gateway: http://localhost:8000

Kafka UI (ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฉุงูฺฉุง): http://localhost:8080

Kibana (ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงฺฏโูุง): http://localhost:15601
```
๐ฌ ูุญูู ุงุณุชูุงุฏู ุงุฒ API
ูโุชูุงูุฏ ุงุฒ ุทุฑู ุงุจุฒุงุฑูุง ูุงููุฏ Postman ุง cURL ุจุง API ุชุนุงูู ฺฉูุฏ.

ฑ. ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ
ฺฉ ุฏุฑุฎูุงุณุช POST ุจู API Gateway ุงุฑุณุงู ฺฉูุฏ ุชุง ฺฉุงุฑุจุฑ ุฌุฏุฏ ุฏุฑ user-service ุณุงุฎุชู ุดูุฏ.
```
curl -X POST http://localhost:8000/auth/register/ \
-H "Content-Type: application/json" \
-d '{"username": "testuser", "email": "test@example.com", "password": "strongpassword123"}'
```
ฒ. ุฏุฑุงูุช ุชูฺฉู (ูุงฺฏู)
ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฎูุฏุ ฺฉ ุชูฺฉู ุฏุณุชุฑุณ (Access Token) ุฏุฑุงูุช ฺฉูุฏ.
```
curl -X POST http://localhost:8000/auth/token/ \
-H "Content-Type: application/json" \
-d '{"username": "testuser", "password": "strongpassword123"}'
```
ุฏุฑ ูพุงุณุฎุ ฺฉ access ุชูฺฉู ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ุจุฑุง ูุฑุงุญู ุจุนุฏ ูุงุฒ ุงุณุช.

ณ. ุญุฐู ฺฉุงุฑุจุฑ
ุจุฑุง ุชุณุช ฺฉุฑุฏู ุณูุงุฑู ฺฉุงูฺฉุงุ ูโุชูุงูุฏ ฺฉุงุฑุจุฑ ฺฉู ุณุงุฎุชุฏ ุฑุง ุญุฐู ฺฉูุฏ. ุชูฺฉู ุฏุฑุงูุช ุงุฒ ูุฑุญูู ูุจู ุฑุง ุฏุฑ ูุฏุฑ Authorization ูุฑุงุฑ ุฏูุฏ.
```
curl -X DELETE http://localhost:8000/auth/profile/ \
-H "Authorization: Bearer <YOUR_ACCESS_TOKEN>"
```
ูพุณ ุงุฒ ุงุฌุฑุง ุงู ุฏุณุชูุฑุ user-service ฺฉุงุฑุจุฑ ุฑุง ุญุฐู ฺฉุฑุฏู ู ฺฉ ุฑูุฏุงุฏ ุจู ฺฉุงูฺฉุง ุงุฑุณุงู ูโฺฉูุฏ. todo-service ุงู ุฑูุฏุงุฏ ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ู ุชุณฺฉโูุง ูุฑุจูุท ุจู ุงู ฺฉุงุฑุจุฑ ุฑุง (ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ) ุญุฐู ูโฺฉูุฏ.

๐ง ููุงูู ฺฉูุฏ ุฏุฑ ุงู ูพุฑูฺู
API Gateway
ุงู ุณุฑูุณ ุฏุฑูุงุฒู ุงุตู ูุฑูุฏ ุจู ุณุณุชู ูุงุณุช:

ููุทู ูุฑูุฏ ูุงุญุฏ: ูุฑุงูุชโุงูุฏ ููุท ุจุง Gateway ุตุญุจุช ูโฺฉูุฏุ ูู ุจุง ุชฺฉ ุชฺฉ ุณุฑูุณโูุง.

ูุณุฑุงุจ ููุดููุฏ: ุฏุฑุฎูุงุณุชโูุง ุฑุง ุจุฑ ุงุณุงุณ ุขุฏุฑุณ ุจู ุณุฑูุณ ููุงุณุจ ูุฏุงุช ูโฺฉูุฏ.

ุงููุช ูุชูุฑฺฉุฒ: ุชูฺฉูโูุง JWT ุฑุง ูุจู ุงุฒ ุฑุณุฏู ุฏุฑุฎูุงุณุช ุจู ุณุฑูุณโูุง ุฏุงุฎูุ ุงุนุชุจุงุฑุณูุฌ ูโฺฉูุฏ.

ุงุฑุชุจุงุท ุฑูุฏุงุฏ-ูุญูุฑ ุจุง Kafka
ุณุฑูุณโูุง ูุจุงุฏ ูุณุชููุงู ุจุง ูู ุตุญุจุช ฺฉููุฏ. ุจู ุฌุง ุขูุ ุงุฒ ฺฉ ูพุงูโุฑุณุงู ุงุณุชูุงุฏู ูโฺฉููุฏ:

ูุซุงู: ููุช ฺฉุงุฑุจุฑ ุญุฐู ูโุดูุฏุ user-service ฺฉ ูพุงู "ฺฉุงุฑุจุฑ X ุญุฐู ุดุฏ" ุฏุฑ ฺฉุงูฺฉุง ููุชุดุฑ ูโฺฉูุฏ.

todo-service ฺฉู ุจู ุงู ููุน ูพุงูโูุง ฺฏูุด ูโุฏูุฏุ ุขู ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ู ุชูุงู ุชุณฺฉโูุง ฺฉุงุฑุจุฑ X ุฑุง ุญุฐู ูโฺฉูุฏ.

ูุงฺฏูฺฏ ูุชูุฑฺฉุฒ ุจุง ELK
ุจู ุฌุง ฺฺฉ ฺฉุฑุฏู ูุงฺฏโูุง ุฏุฑ ฺูุฏู ุชุฑููุงูุ ููู ฺุฒ ุฏุฑ ฺฉ ุฌุง ุฌูุน ูโุดูุฏ:

ูุฑ ุณุฑูุณ ูุงฺฏโูุง ุฎูุฏ ุฑุง ุจู Logstash ูโูุฑุณุชุฏ.

Logstash ุขูโูุง ุฑุง ูพุฑุฏุงุฒุด ู ุฏุฑ Elasticsearch ุฐุฎุฑู ูโฺฉูุฏ.

ูุง ุจุง Kibana ูโุชูุงูู ุจู ุฑุงุญุช ููู ูุงฺฏโูุง ุฑุง ุฌุณุชุฌู ู ุชุญูู ฺฉูู.

๐ค ูุดุงุฑฺฉุช
ุงู ูพุฑูฺู ุจุง ูุฏู ุขููุฒุด ุณุงุฎุชู ุดุฏู ุงุณุช. ุงฺฏุฑ ูพุดููุงุฏ ุจุฑุง ุจูุจูุฏ ุฏุงุฑุฏุ ูุทูุงู ฺฉ Issue ุจุงุฒ ฺฉูุฏ ุง ฺฉ Pull Request ุงุฑุณุงู ฺฉูุฏ.
